<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meeting Schedule</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Carousel container with dynamic height and smooth transition */
    .carousel-container {
      position: relative;
      overflow: hidden;
      transition: height 0.6s ease;
      min-height: 397px; /* minimum 1 row height */
    }

    /* Fade slides stacked absolutely */
    .fade {
      position: absolute;
      inset: 0; /* top:0; right:0; bottom:0; left:0; */
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease-in-out;
      display: grid;
      grid-template-columns: repeat(1, minmax(0, 1fr));
      gap: 8px; /* 0.5rem */
    }

    .fade.active {
      opacity: 1;
      pointer-events: auto;
      position: relative; /* bring active slide in flow */
    }

    /* 2x grid layout */
    @media screen and (min-width: 1840px) and (max-width: 2729px) {
      .fade.custom-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-auto-rows: 397px;
      }

      .fade.active.custom-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
    /* 3x grid layout */
    @media screen and (min-width: 2730px) {
      .fade.custom-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
        grid-auto-rows: 397px;
      }
      .fade.active.custom-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    /* Done section fixed to 3 columns */
    /* #done-carousel .fade {
      grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
      grid-auto-rows: 397px !important;
    } */

    .meeting-card {
      width: 100% !important;
      max-width: 1069px;
      height: 397px !important;
      display: flex;
      border-radius: 20px;
      padding-right: 38px;
      overflow: hidden;
      border: 1px solid #cdcdcd;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
      background: white;
    }

    /* Left side image with overlay for text */
    .meeting-card .left-side {
      position: relative;
      width: 577px;
      height: 393px;
      flex-shrink: 0;
      background: url('https://c.animaapp.com/me22i3utWkCN0F/img/rectangle-2.svg') no-repeat center/cover;
      border-top-left-radius: 20px;
      border-bottom-left-radius: 20px;
      color: white;
      padding: 32px 40px; /* 2rem 2.5rem */
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      user-select: none;
      text-shadow: 0 0 6px rgba(0,0,0,0.7);
      padding-right: 38px;
    }
    .meeting-card .guest-name {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      flex-shrink: 0;

      /* Allow wrapping - no truncation */
      white-space: normal;
      overflow: visible;
      text-overflow: unset;
    }
    .meeting-card .meeting-title {
      font-size: 30.4px; /* 1.9rem */
      font-weight: 700;
      margin-bottom: 16px; /* 1rem */
      flex-shrink: 0;
    }
    .meeting-card .description {
      font-size: 24px; /* 1.5rem */
      font-weight: 500;
      line-height: 1.4;
      margin-bottom: 32px; /* 2rem */
      flex-grow: 1;
      overflow-wrap: break-word;
    }
    .meeting-card .creator {
      font-size: 24px; /* 1.5rem */
      font-style: italic;
      opacity: 0.99;
      flex-shrink: 0;
    }

    /* Right side white background with details */
    .meeting-card .right-side {
      position: relative;
      padding: 70px 20px 20px 20px; /* 2rem 3rem */
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      color: #374151;
      user-select: none;
    }

    /* Status badges */
    .status-badge {
      position: absolute;
      top: 16px; /* 1rem */
      right: 16px; /* 1rem */
      font-weight: 600;
      padding: 4.8px 20px; /* 0.3rem 1.25rem */
      border-radius: 9999px;
      color: white;
      font-size: 25px; /* 1.25rem */
      user-select: none;
      margin-bottom: 10;
    }
    .status-upcoming {
      background-color: #dc2626;
    }
    .status-inprogress {
      background-color: #ca8a04;
    }
    .status-done {
      background-color: #16a34a;
    }

    /* Info rows with icon and text */
    .info-row {
      display: flex;
      align-items: center;
      gap: 12px; /* 0.75rem */
      font-size: 30.4px; /* 1.4rem */
    }
    .info-row svg {
      flex-shrink: 0;
      width: 30px;
      height: 30px;
      stroke: #6b7280;
      stroke-width: 1.5;
    }

    /* Large screen overrides */
    @media (min-width: 2730px) {
      .meeting-card .left-side {
        padding: 16px 16px; /* 1rem 1rem */
        padding-right: 38px;
      }
      .meeting-card .guest-name {
        font-size: 44.8px; /* 2.8rem */
        margin-bottom: 6px;
      }
      .meeting-card .meeting-title {
        font-size: 44.8px; /* 2.8rem */
        margin-bottom: 6px;
      }
      .meeting-card .description {
        font-size: 28.8px; /* 1.8rem */
        margin-bottom: 48px; /* 3rem */
      }
      .meeting-card .creator {
        font-size: 24px; /* 1.5rem */
      }
      .info-row {
        font-size: 25.6px; /* 1.6rem */
        margin-bottom: 24px; /* 1.5rem */
      }
      .info-row svg {
        width: 26px;
        height: 26px;
      }
    }

    /* Week container horizontal layout */
    #weeks-container {
      display: flex;
      gap: 12px; /* 0.75rem */
      justify-content: center;
      flex-wrap: nowrap;
      margin-bottom: 16px; /* 1rem */
    }

    .highlighted {
      background-color: #1976D2;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }

    .week-item {
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      user-select: none;
      background-color: #e5e7eb;
      color: #374151;
      transition: background-color 0.3s ease;
    }

    .week-item:hover:not(.highlighted) {
      background-color: #d1d5db;
    }

  </style>
</head>
<body class="bg-gray-100 font-sans">

  <div class="max-w-[3780px] mx-auto p-4">

    <!-- Header -->
    <header class="mb-8">
      <div class="flex justify-between items-start flex-wrap">
        <div class="flex-1 text-center">
          <p class="text-lg sm:text-xl lg:text-2xl font-light text-[#5b5757] mb-2">Reservation for</p>
          <h1 class="text-4xl sm:text-6xl lg:text-8xl font-semibold text-black">August</h1>
        </div>
        <div class="text-right">
          <p class="text-base sm:text-lg lg:text-2xl font-light text-black mb-1">Tuesday, Aug 12, 2025</p>
          <p id="clock" class="text-xl sm:text-2xl lg:text-3xl font-semibold text-black"></p>
        </div>
      </div>
    </header>

    <!-- Week Selector -->
    <div class="flex justify-center space-x-4 mb-8">
      <div id="weeks-container"></div>
    </div>

    <!-- Today Section -->
    <h2 class="text-xl font-semibold mb-4">Today</h2>
    <div class="relative min-h-[410px]">
      <div id="today-carousel" class="carousel-container relative"></div>
    </div>

    <!-- Tomorrow Section -->
    <h2 class="text-xl font-semibold mt-8 mb-4">Tomorrow</h2>
    <div class="relative  min-h-[410px]">
      <div id="tomorrow-carousel" class="carousel-container relative"></div>
    </div>

    <!-- Done Section -->
    <h2 class="text-xl font-semibold mt-8 mb-4">Done</h2>
    <div class="relative  min-h-[410px]">
      <div id="done-carousel" class="carousel-container relative"></div>
    </div>

  </div>

<script>
  const icons = {
    date: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect width="18" height="16" x="3" y="4" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>`,
    time: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="9"/><polyline points="12 6 12 12 16 14"/></svg>`,
    room: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><rect x="3" y="7" width="18" height="10" rx="2" ry="2"/><line x1="16" y1="7" x2="16" y2="17"/><line x1="8" y1="7" x2="8" y2="17"/></svg>`,
    participants: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="9" cy="7" r="4"/><circle cx="17" cy="7" r="4"/><path d="M1 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>`
  };

  function truncateText(text, maxLength) {
  if (text.length <= maxLength) return text;
  return text.slice(0, maxLength - 3) + '...';
}

const maxDescriptionLength = 80; // example max length

const fullNameLength = 35;
  function meetingCardHTML({
    guestName,
    meetingTitle = "Meeting Title",
    description,
    creator = "Creator Name",
    status,
    date,
    time,
    room,
    participants,
  }) {
    let statusText = '';
    let statusClass = '';
    if(status === 'upcoming') {
      statusText = 'Upcoming';
      statusClass = 'status-badge status-upcoming';
    } else if(status === 'inprogress') {
      statusText = 'In Progress';
      statusClass = 'status-badge status-inprogress';
    } else if(status === 'done') {
      statusText = 'Complete';
      statusClass = 'status-badge status-done';
    }

    return `
      <article class="meeting-card">
        <div class="left-side">
          <div class="guest-name">${truncateText(guestName, fullNameLength)}</div>
          <div class="meeting-title">${meetingTitle}</div>
          <div class="description">${truncateText(description, maxDescriptionLength)}</div>
          <div class="creator">Created by: ${creator}</div>
        </div>
        <div class="right-side">
          <div class="${statusClass}">${statusText}</div>
          ${date ? `<div class="info-row">${icons.date}<span>${date}</span></div>` : ''}
          <div class="info-row">${icons.time}<span>${time}</span></div>
          <div class="info-row">${icons.room}<span>${room}</span></div>
          <div class="info-row">${icons.participants}<span>${participants.join(', ')}</span></div>
        </div>
      </article>
    `;
  }

  // Sample data arrays for Today, Tomorrow, Done (same as your original)
  const todayMeetingsData = [
    { guestName: 'Sheila sasasa sadsadasdasdasdasda sdsd', meetingTitle: 'Morning Sync', description: 'Morning meeting about project updates and tasks updates and tasks updates and tasksupdates and tasks last', creator: 'Mr. Matsunaga', status: 'inprogress', date: '', time: '6:00 AM - 7:00 AM', room: 'M234', participants: ['Mr. Matsunaga', 'Mr. Tsuchiya', '+5'] },
    { guestName: 'John Doe', meetingTitle: 'Team Meeting', description: 'Discuss quarterly goals and performance', creator: 'Ms. Smith', status: 'upcoming', date: 'Aug 11, 2025', time: '10:00 AM - 11:00 AM', room: 'Room 12', participants: ['John Doe', 'Ms. Smith', 'Alice'] },
    { guestName: 'Maria Garcia', meetingTitle: 'Project Kickoff', description: 'Initial kickoff meeting for new client project', creator: 'Mr. Johnson', status: 'upcoming', date: 'Aug 11, 2025', time: '2:00 PM - 3:30 PM', room: 'Room 5', participants: ['Maria Garcia', 'Mr. Johnson'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
  ];

  const tomorrowMeetingsData = [
    { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
     { guestName: 'Alex Johnson', meetingTitle: 'Budget Review', description: 'Reviewing next quarter budgets', creator: 'Ms. Lee', status: 'upcoming', date: 'Aug 13, 2025', time: '9:00 AM - 10:00 AM', room: 'Room 8', participants: ['Alex Johnson', 'Ms. Lee'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
    { guestName: 'Chris Martin', meetingTitle: 'Sales Presentation', description: 'Presenting sales strategies', creator: 'Mr. Davis', status: 'upcoming', date: 'Aug 13, 2025', time: '11:00 AM - 12:00 PM', room: 'Room 14', participants: ['Chris Martin', 'Mr. Davis', 'Team'] },
  ];

  const doneMeetingsData = [
    { guestName: 'Lara Croft', meetingTitle: 'Strategy Session', description: 'Discussed company strategy and vision', creator: 'Mr. Smith', status: 'done', date: 'Aug 9, 2025', time: '3:00 PM - 4:00 PM', room: 'Room 3', participants: ['Lara Croft', 'Mr. Smith'] },
    { guestName: 'James Bond', meetingTitle: 'Security Briefing', description: 'Briefing on latest security protocols', creator: 'Ms. Bond', status: 'done', date: 'Aug 10, 2025', time: '1:00 PM - 2:00 PM', room: 'Room 7', participants: ['James Bond', 'Ms. Bond'] },
    { guestName: 'James Bond', meetingTitle: 'Security Briefing', description: 'Briefing on latest security protocols', creator: 'Ms. Bond', status: 'done', date: 'Aug 10, 2025', time: '1:00 PM - 2:00 PM', room: 'Room 7', participants: ['James Bond', 'Ms. Bond'] },
  
  ];

  // Helper to chunk array into pages
  function chunkArray(arr, n) {
    const chunks = [];
    for(let i = 0; i < arr.length; i += n) {
      chunks.push(arr.slice(i, i + n));
    }
    return chunks;
  }

  // Calculate number of columns based on window width (match media queries)
  function getColumnsCount() {
    const width = window.innerWidth;
    if (width >= 2730) return 3;
    if (width >= 1840) return 2;
    return 1;
  }

  function getRowsCount(container) {
    if (container.id === 'done-carousel') {
      return 1; // always 1 row for done
    }
    const width = window.innerWidth;
    if (width >= 2730) return 3;
    return 2; // both medium and small have 2 rows
  }

    // Cards per page = columns * rows
  function getCardsPerPage(container) {
    return getColumnsCount() * getRowsCount(container);
  }


  // Calculate container height based on cards count and columns, plus gaps
  function calculateHeight(cardsCount, container) {
    const columns = getColumnsCount();
    const fixedRows = getRowsCount(container);
    const rows = Math.min(Math.ceil(cardsCount / columns), fixedRows);

    const rowHeight = 397; // px card height
    const gap = 16; // px gap

    return rows * rowHeight + (rows - 1) * gap;
  }

  // Render carousel with slides and cards, handle auto carousel and height animation
function renderCarousel(container, meetings) {
  const cardsPerPage = getCardsPerPage(container);
  const pages = chunkArray(meetings, cardsPerPage);
  container.innerHTML = '';

  pages.forEach((pageData, idx) => {
    const slide = document.createElement('section');
    slide.className = 'fade custom-grid';
    if (idx === 0) slide.classList.add('active');

    pageData.forEach(data => {
      const tempTemplate = document.createElement('template');
      tempTemplate.innerHTML = meetingCardHTML(data).trim();
      slide.appendChild(tempTemplate.content.firstElementChild);
    });

    container.appendChild(slide);
  });

  if (pages.length <= 1) {
    container.style.height = calculateHeight(pages[0].length, container) + 'px';
    return;
  }

  let currentIndex = 0;
  container.style.height = calculateHeight(pages[0].length, container) + 'px';

  setInterval(() => {
    const slides = container.querySelectorAll('.fade');
    slides[currentIndex].classList.remove('active');
    const nextIndex = (currentIndex + 1) % slides.length;
    slides[nextIndex].classList.add('active');

    const currentCardsCount = pages[currentIndex].length;
    const nextCardsCount = pages[nextIndex].length;

    const currentHeight = calculateHeight(currentCardsCount, container);
    const nextHeight = calculateHeight(nextCardsCount, container);

    container.style.height = nextHeight < currentHeight ? nextHeight + 'px' : currentHeight + 'px';

    currentIndex = nextIndex;
  }, 25000);
}



  // Initial render for all three carousels
  const todayContainer = document.getElementById('today-carousel');
  const tomorrowContainer = document.getElementById('tomorrow-carousel');
  const doneContainer = document.getElementById('done-carousel');

  
  renderCarousel(todayContainer, todayMeetingsData);
  renderCarousel(tomorrowContainer, tomorrowMeetingsData);
  renderCarousel(doneContainer, doneMeetingsData);

  // Adjust container height on window resize for visible slides
  window.addEventListener('resize', () => {
    [todayContainer, tomorrowContainer, doneContainer].forEach(container => {
      const activeSlide = container.querySelector('.fade.active');
      if (!activeSlide) return;
      const cardsCount = activeSlide.children.length;
      container.style.height = calculateHeight(cardsCount) + 'px';
    });
  });



  // Clock update
  function updateClock() {
    const clockEl = document.getElementById('clock');
    const now = new Date();
    clockEl.textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }
  setInterval(updateClock, 1000);
  updateClock();

</script>


<script>
  // --- Optional: Week selector code (if you want, or remove) ---

  const weeksContainer = document.getElementById('weeks-container');

  // Get current year & month
  const today = new Date();
  const year = today.getFullYear();
  const month = today.getMonth(); // 0 = January

  // First and last day of month
  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month + 1, 0);

  // Calculate number of weeks in the month
  const startDayIndex = firstDay.getDay(); // Sunday=0
  const totalDays = lastDay.getDate();
  const totalWeeks = Math.ceil((totalDays + startDayIndex) / 7);

  // Generate weeks list automatically
  const weeks = Array.from({ length: totalWeeks }, (_, i) => `Week ${i + 1}`);

  // Determine current week
  const weekOfMonth = Math.ceil((today.getDate() + startDayIndex) / 7);
  let highlightedWeek = `Week ${weekOfMonth}`;

  function renderWeeks() {
    weeksContainer.innerHTML = '';
    weeks.forEach(week => {
      const div = document.createElement('div');
      div.textContent = week;
      div.className = (week === highlightedWeek) ? 'highlighted' : 'week-item';
      div.onclick = () => {
        highlightedWeek = week;
        renderWeeks();
      };
      weeksContainer.appendChild(div);
    });
  }

  renderWeeks();
</script>

</body>
</html>
